{"version":3,"file":"static/js/758.c854eb5b.chunk.js","mappings":"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","sources":["components/list-user/UserTable.jsx"],"sourcesContent":["import React, { useEffect, useState, lazy } from 'react';\r\nimport { get } from 'lodash';\r\nimport { Loading, Table, Pagination, Button } from 'element-react';\r\nimport { useUserDispatch, useUserState} from '../../contexts/user';\r\n\r\nconst ConfirmModal = lazy(() => import('../confirm-modal/Confirm'));\r\nconst UserForm = lazy(() => import('../../components/user-form/UserForm'));\r\n\r\nexport const UserTable = (props) => {\r\n  const dispatchUser = useUserDispatch();\r\n  const { listUser, paging, loading } = useUserState();\r\n\r\n  const [showAddModal, setShowAddModal] = useState(false);\r\n  const [addType, setAddType] = useState('edit');\r\n  \r\n  const [showConfirmModal, setShowConfirmModal] = useState(false);\r\n  const [userEdit, setUserEdit] = useState(null);\r\n  const [contentModal, setContentModal] = useState('');\r\n  \r\n  const params = {\r\n    page: 1,\r\n    pageSize: 10,\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchDataTable();\r\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  const fetchDataTable = () => {\r\n    dispatchUser({ type: 'SET_PARAM_LIST_USER', payload: params });\r\n  };\r\n\r\n  const onParamChanged = (property, value) => {\r\n    params[property] = value;\r\n    fetchDataTable();\r\n  };\r\n\r\n  const deleteUser = (user) => {\r\n    setUserEdit(user);\r\n    setContentModal(`Are you sure to delete ${get(user, 'first_name')} ${get(user, 'last_name')}`);\r\n    setShowConfirmModal(true);\r\n  };\r\n\r\n  const editUser = (user) => {\r\n    setUserEdit(user);\r\n    setShowAddModal(true);\r\n    setAddType('edit');\r\n  };\r\n\r\n  const viewUser = (user) => {\r\n    setUserEdit(user);\r\n    setShowAddModal(true);\r\n    setAddType('view');\r\n  };\r\n\r\n  const onDeleteUser = () => {\r\n    dispatchUser({ type: 'SET_DELETE_USER', payload: userEdit.id });\r\n    setUserEdit(null);\r\n    setShowConfirmModal(false);\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      label: 'ID',\r\n      prop: 'id',\r\n    },\r\n    {\r\n      label: 'First Name',\r\n      prop: 'first_name',\r\n    },\r\n    {\r\n      label: 'Last Name',\r\n      prop: 'last_name',\r\n    },\r\n    {\r\n      label: 'Email',\r\n      prop: 'email',\r\n    },\r\n    {\r\n      label: 'Gender',\r\n      prop: 'gender',\r\n    },\r\n    {\r\n      label: 'Action',\r\n      render: (row)=>{\r\n        return <div>\r\n          <Button type='info' size='small' icon=\"document\" onClick={viewUser.bind(this, row)} />\r\n          <Button type='warning' size='small' icon=\"edit\" onClick={editUser.bind(this, row)} />\r\n          <Button type='danger' size='small' icon=\"delete\" onClick={deleteUser.bind(this, row)} />\r\n        </div>\r\n      }\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <Loading loading={loading}>\r\n      <Table\r\n        className='w-100'\r\n        emptyText='No Data.'\r\n        columns={columns}\r\n        data={listUser}\r\n      />\r\n      <Pagination\r\n        className='mt-5'\r\n        layout='total, sizes, prev, pager, next'\r\n        total={paging.total}\r\n        pageSizes={[5, 10, 20, 50, 100]}\r\n        pageSize={paging.pageSize}\r\n        currentPage={paging.page}\r\n        onSizeChange={(value) => { onParamChanged('pageSize', value) }}\r\n        onCurrentChange={(value) => { onParamChanged('page', value) }}\r\n      />\r\n      \r\n      <ConfirmModal\r\n        showModal={showConfirmModal}\r\n        title='Delete User'\r\n        content={contentModal}\r\n        acceptBtn='Delete'\r\n        rejectBtn='Cancel'\r\n\r\n        closeModal={() => { setShowConfirmModal(false) }}\r\n        rejectFn={() => { setShowConfirmModal(false) }}\r\n        acceptFn={onDeleteUser}\r\n      />\r\n      <UserForm\r\n        showModal={showAddModal}\r\n        user={userEdit}\r\n        type={addType}\r\n        closeModal={() => { setShowAddModal(false) }}\r\n      />\r\n    </Loading>\r\n  );\r\n};\r\nexport default UserTable;\r\n"],"names":["ConfirmModal","lazy","UserForm","UserTable","props","dispatchUser","useUserDispatch","useUserState","listUser","paging","loading","useState","showAddModal","setShowAddModal","addType","setAddType","showConfirmModal","setShowConfirmModal","userEdit","setUserEdit","contentModal","setContentModal","params","page","pageSize","useEffect","fetchDataTable","type","payload","onParamChanged","property","value","deleteUser","user","get","editUser","viewUser","columns","label","prop","render","row","Button","size","icon","onClick","bind","Loading","Table","className","emptyText","data","Pagination","layout","total","pageSizes","currentPage","onSizeChange","onCurrentChange","showModal","title","content","acceptBtn","rejectBtn","closeModal","rejectFn","acceptFn","id"],"sourceRoot":""}